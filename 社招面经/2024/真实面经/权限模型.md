

# 市面上的权限模型


## ACL(访问控制列表) Access Control List

原理：每一个客体都有一个列表，列表中记录的是哪些主体可以对这个客体做哪些行为，非常简单。

例如：当用户A要访问某个页面时，就会判断这个页面对应的主体是否有用户A.否则就无法访问

缺点：当主体的数量较多时，配置和维护工作就会成本大、易出错。


## DAC模型（自主访问控制） Discretionary Access Control
 
原理：在ACL模型的基础上，允许主体可以将自己拥有的权限自主地授予其他主体，所以权限可以任意传递。

例如：常见于文件系统，LINUX，UNIX、WindowsNT版本的操作系统都提供DAC的支持。

缺点：对权限控制比较分散，例如无法简单地将一组文件设置统一的权限开放给指定的一群用户。主体的权限太大，无意间就可能泄露信息。


## MAC模型（强制访问控制） Mandatory Access Control
原理：主体有一个权限标识，客体也有一个权限标识，而主体能否对该客体进行操作取决于双方的权限标识的关系。

例如：将军分为上将>中将>少将，军事文件保密等级分为绝密>机密>秘密，规定不同军衔仅能访问不同保密等级的文件，如少将只能访问秘密文件；当某一账号访问某一文件时，系统会验证账号的军衔，也验证文件的保密等级，当军衔和保密等级相对应时才可以访问。

缺点：控制太严格，实现工作量大，缺乏灵活性。


## RBAC（基于角色的权限访问控制）Role-Based Access Control
用户只和角色关联，而角色代表对了权限，是一系列权限的集合。

RBAC三要素：

用户：系统中所有的账户

角色：一系列权限的集合（如：管理员，开发者，审计管理员等）

权限：菜单，按钮，数据的增删改查等详细权限。

优点：便于角色划分，更灵活的授权管理；最小颗粒度授权；
 
## ABAC模型（基于属性访问控制）Attribute-Based Access Control

原理：通过动态计算一个或一组属性是否满足某种机制来授权，是一种很灵活的权限模型，可以按需实现不同颗粒度的权限控制。这个模型在云系统中使用的比较多，比如 AWS，阿里云等。

授权某个人具体某本书的编辑权限
当一个文档的所属部门跟用户的部门相同时，用户可以访问这个文档
当用户是一个文档的拥有者并且文档的状态是草稿，用户可以编辑这个文档
早上九点前禁止 A 部门的人访问 B 系统
在除了上海以外的地方禁止以管理员身份访问 A 系统
用户对 2022-06-07 之前创建的订单有操作权限


可以发现上述的场景通过 RBAC模型 很难去实现，因为 RBAC模型 仅仅描述了用户可以做什么操作，但是操作的条件，以及操作的数据，RBAC模型 本身是没有这些限制的。但这恰恰是 ABAC模型 的长处，ABAC模型 的思想是基于用户、访问的数据的属性、以及各种环境因素去动态计算用户是否有权限进行操作。


缺点：规则复杂，不易看出主体与客体之间的关系，实现非常难，现在应用的很少。


## TBAC模型，基于任务的访问控制


## T-RBAC模型