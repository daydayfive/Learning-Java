#åˆ›å»ºå‹æ¨¡å¼
##åˆ›å»ºå‹æ¨¡å¼æ¦‚è¿°
* [å•ä¾‹æ¨¡å¼](#Singleton):æŸä¸ªç±»åªèƒ½ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œè¯¥ç±»æä¾›äº†ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ä¾›å¤–éƒ¨è·å–è¯¥å®ä¾‹ï¼Œå…¶æ‹“å±•æ˜¯æœ‰é™å¤šä¾‹æ¨¡å¼ã€‚
* [åŸå‹æ¨¡å¼](#Prototype):å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸå‹ï¼Œé€šè¿‡å¯¹å…¶è¿›è¡Œå¤åˆ¶è€Œå…‹éš†å‡ºå¤šä¸ªå’ŒåŸå‹ç±»ä¼¼çš„æ–°æ¡ˆä¾‹
* [å·¥å‚æ–¹æ³•æ¨¡å¼](#FactoryMethod):å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“ã€‚
* [æŠ½è±¡å·¥å‚æ¨¡å¼](#AbstractFactory):æä¾›ä¸€ä¸ªåˆ›å»ºäº§å“æ—çš„æ¥å£ï¼Œç”±æ¯ä¸ªå­ç±»å†³å®šç”Ÿäº§ä¸€ç³»åˆ—çš„äº§å“ã€‚
* [å»ºé€ è€…æ¨¡å¼](#Builder):å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡åˆ†è§£æˆå¤šä¸ªç›¸å¯¹ç®€å•çš„éƒ¨åˆ†ï¼Œç„¶åæ ¹æ®ä¸åŒéœ€è¦åˆ†åˆ«åˆ›å»ºå®ƒä»¬ï¼Œæœ€åæ„å»ºå‡ºè¯¥å¤æ‚å¯¹è±¡ã€‚

##<span id="Singleton">å•ä¾‹æ¨¡å¼</span>

##<span id="Prototype">åŸå‹æ¨¡å¼</span>


##ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)
1.æ¦‚è¿°(ä¸å±äº23ç§è®¾è®¡æ¨¡å¼)
åœ¨**åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶**ä¸å‘å®¢æˆ·æš´éœ²å†…éƒ¨ç»†èŠ‚ï¼Œå¹¶æä¾›ä¸€ä¸ª**åˆ›å»ºå¯¹è±¡çš„é€šç”¨æ¥å£**ã€‚ç®€å•å·¥å‚æŠŠ**å®ä¾‹åŒ–**çš„æ“ä½œå•ç‹¬æ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œè¿™ä¸ªç±»å°±æˆäº†**ç®€å•å·¥å‚ç±»**ï¼Œè®©**ç®€å•å·¥å‚ç±»**æ¥å†³å®šåº”è¯¥å®ä¾‹åŒ–å“ªä¸ªå…·ä½“å­ç±»ã€‚ 
**åˆ›å»ºå¯¹è±¡çš„ä»»åŠ¡äº¤ç»™ç®€å•å·¥å‚ã€‚**

è¿™æ ·åšèƒ½æŠŠå®¢æˆ·ç±»å’Œå…·ä½“å­ç±»çš„å®ç°è§£è€¦ï¼Œ**å®¢æˆ·ç±»ä¸å†éœ€è¦çŸ¥é“æœ‰å“ªäº›å­ç±»ä»¥åŠåº”å½“å®ä¾‹åŒ–å“ªä¸ªå­ç±»**ã€‚å®¢æˆ·ç±»å¾€å¾€æœ‰å¤šä¸ªï¼Œå¦‚æœä¸ä½¿ç”¨ç®€å•å·¥å‚ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å®¢æˆ·ç±»éƒ½è¦çŸ¥é“æ‰€æœ‰å­ç±»çš„ç»†èŠ‚ã€‚è€Œä¸”ä¸€æ—¦å­ç±»å‘ç”Ÿæ”¹å˜ï¼Œä¾‹å¦‚å¢åŠ å­ç±»ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å®¢æˆ·ç±»éƒ½è¦è¿›è¡Œä¿®æ”¹ã€‚

2.ç±»å›¾
![å›¾ 2](../../images/e3e1eae5edb5d2d720d3d70b807bca57f6cf6c681960d17631a4821a2bb894d7.png)  

3.å®ç°
```Java
// äº§å“æ¥å£
public interface Product {
}
```
Productçš„ä¸‰ç§å®ç°ï¼š
```Java
public class ConcreteProduct implements Product {
}
public class ConcreteProduct1 implements Product {
}
public class ConcreteProduct2 implements Product {
}

```
ä»¥ä¸‹çš„Clientç±»åŒ…å«äº†å®ä¾‹åŒ–çš„ä»£ç ï¼Œè¿™æ˜¯ä¸€ç§é”™è¯¯çš„å®ç°ã€‚å¦‚æœåœ¨å®¢æˆ·ç±»ä¸­å­˜åœ¨è¿™ç§å®ä¾‹åŒ–çš„ä»£ç ï¼Œå°±éœ€è¦è€ƒè™‘å°†ä»£ç æ”¾åˆ°ç®€å•å·¥å‚é‡Œã€‚
ä¸å¥½çš„å®ç°ğŸ˜“
```Java
public class Client {
    
    public static void main(String[] args) {
        int type = 1;
        // è‡ªå·±å®šä¹‰äº§ç”ŸProductå¯¹è±¡
        Product product;
        if (type == 1) {
            product = new ConcreteProduct1();
        } else if (type == 2) {
            product = new ConcreteProduct2();
        } else {
            product = new ConcreteProduct();
        }
        // do something with the product
    }
}

```
ç®€å•å·¥å‚å®ç°SimpleFactoryï¼Œè¢«æ‰€æœ‰éœ€è¦è¿›è¡Œå®ä¾‹åŒ–çš„**å®¢æˆ·ç±»**è°ƒç”¨
```Java
// ç®€å•å·¥å‚ç±»
public class SimpleFactory {
    /**
     * æ ¹æ®ç±»å‹è·å–å¯¹è±¡ ç»Ÿä¸€ä½¿ç”¨å…¶æ¥å£æ¥è¡¨ç¤º
     * 
     * @param type ç±»å‹
     * @return äº§å“å¯¹è±¡
     */
    public Product createProduct(int type) {
        if (type == 1) {
            return new ConcreteProduct1();
        } else if (type == 2) {
            return new ConcreteProduct2();
        }
        return new ConcreteProduct1();
    }
}
// å®¢æˆ·ç±»
public class Client {
    public static void main(String[] args) {
        // æ„é€ ç®€å•å·¥å‚
        SimpleFactory simpleFactory = new SimpleFactory();
        // å¾€å·¥å‚ä¼ å…¥äº§å“ç±»å‹å¾—åˆ°äº§å“å¯¹è±¡
        Product product = simpleFactory.createProduct(1);	
        // do something with the product
    }
}
```

##<span id="FactoryMethod">å·¥å‚æ–¹æ³•æ¨¡å¼</span>
1.æ¦‚è¿°
**å·¥å‚æ–¹æ³•æ¨¡å¼ æ˜¯å¯¹ç®€å•å·¥å‚æ¨¡å¼çš„è¿›ä¸€æ­¥æŠ½è±¡åŒ–**ï¼Œå…¶å¥½å¤„æ˜¯å¯ä»¥ ä½¿ç³»ç»Ÿåœ¨ä¸ä¿®æ”¹åŸæ¥ä»£ç çš„æƒ…å†µä¸‹çˆ±å¼•å…¥æ–°çš„äº§å“ï¼Œå³æ»¡è¶³å¼€é—­åŸåˆ™ã€‚

åœ¨ç®€å•å·¥å‚æ¨¡å¼ä¸­ï¼Œåˆ›å»ºå¯¹è±¡çš„æ˜¯**å·¥å‚ç±»**ï¼Œ è€Œåœ¨å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­ï¼Œ æ˜¯ç”±** å…·ä½“å·¥å‚æ¥åˆ›å»ºå¯¹è±¡**
2.ç±»å›¾
![å›¾ 3](../../images/b6bbb90c245c2908a1b60b118132d0705865b725e5b56430efa9b6231c9c70e9.png)  
ç»„æˆï¼š
* **æŠ½è±¡å·¥å‚**ï¼ˆAbstractFactoryï¼‰:æä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œè°ƒç”¨è€…é€šè¿‡è®¿é—®å®ƒå…·ä½“å·¥å‚çš„å·¥å‚æ–¹æ³• newProduct()æ¥åˆ›å»ºäº§å“ã€‚
* **å…·ä½“å·¥å‚**ï¼ˆConcreteFactoryï¼‰:ä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»º
* **æŠ½è±¡äº§å“**ï¼ˆProductï¼‰:å®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½
* **å…·ä½“äº§å“**ï¼ˆProductçš„å®ç°ç±»ï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´ä¸€ä¸€å¯¹åº”ã€‚

3.å®ç°
æŠ½è±¡å·¥å‚ç±»ï¼š
```Java
/æŠ½è±¡å·¥å‚ï¼šæä¾›äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•
interface AbstractFactory {
    public Product newProduct();
}

```
ä¹‹åä¸‹é¢æœ‰å‡ ä¸ª  **å°å·¥å‚**ï¼Œè´Ÿè´£äº§ç”Ÿå…·ä½“çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯åƒç®€å•å·¥å‚æ¨¡å¼é‚£æ ·æŠŠå…¨éƒ¨éƒ½ç»¼åˆåœ¨ä¸€ä¸ªç±»ä¸­ï¼Œè¿™äº›å°å·¥å‚å¤å†™äº†æŠ½è±¡å·¥å‚çš„å·¥å‚æ–¹æ³•ï¼Œç”¨äºäº§ç”Ÿå®é™…çš„å¯¹è±¡ã€‚
```Java
//å…·ä½“å·¥å‚1ï¼šå®ç°äº†äº§å“çš„ç”Ÿæˆæ–¹æ³•
class ConcreteFactory1 implements AbstractFactory {
    public Product newProduct() {
        System.out.println("å…·ä½“å·¥å‚1ç”Ÿæˆ-->å…·ä½“äº§å“1...");
        return new ConcreteProduct1();
    }
}
//å…·ä½“å·¥å‚2ï¼šå®ç°äº†äº§å“çš„ç”Ÿæˆæ–¹æ³•
class ConcreteFactory2 implements AbstractFactory {
    public Product newProduct() {
        System.out.println("å…·ä½“å·¥å‚2ç”Ÿæˆ-->å…·ä½“äº§å“2...");
        return new ConcreteProduct2();
    }
}
```
æŠ½è±¡äº§å“
```Java
/æŠ½è±¡äº§å“ï¼šæä¾›äº†äº§å“çš„æ¥å£
interface Product {
    public void show();
}

```
å…·ä½“äº§å“
```Java
/å…·ä½“äº§å“1ï¼šå®ç°æŠ½è±¡äº§å“ä¸­çš„æŠ½è±¡æ–¹æ³•
class ConcreteProduct1 implements Product {
    public void show() {
        System.out.println("å…·ä½“äº§å“1æ˜¾ç¤º...");
    }
}
//å…·ä½“äº§å“2ï¼šå®ç°æŠ½è±¡äº§å“ä¸­çš„æŠ½è±¡æ–¹æ³•
class ConcreteProduct2 implements Product {
    public void show() {
        System.out.println("å…·ä½“äº§å“2æ˜¾ç¤º...");
    }
}
```

å·¥å‚æ–¹æ³•çš„çµæ´»æ€§å¢å¼ºï¼Œå¯¹äºæ–°äº§å“çš„åˆ›å»ºï¼Œæ— éœ€ä¿®æ”¹ä»£ç ï¼Œè€Œæ˜¯ç›´æ¥æ·»åŠ ä¸€ä¸ªå·¥å‚ç±»ã€‚

ä½†æ˜¯å·¥å‚æ–¹æ³•çš„ç¼ºç‚¹æ˜¯æ¯å¢åŠ ä¸€ä¸ªäº§å“ç±»ï¼Œå°±éœ€è¦å¢åŠ ä¸€ä¸ªå¯¹åº”çš„å·¥å‚ç±»


##<span id="AbstractFactory">æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰</span>
1.æ¦‚è¿°
* æŠ½è±¡å·¥å‚æ¨¡å¼ä¸å·¥å‚æ–¹æ³•æ¨¡å¼çš„åŒºåˆ«
å·¥å‚æ–¹æ³•ä¸€ä¸ªå·¥å‚åªç”Ÿäº§ä¸€ä¸ªäº§å“ï¼Œç„¶è€Œ **æŠ½è±¡å·¥å‚** ç”Ÿäº§çš„æ˜¯å¤šç­‰çº§çš„äº§å“ã€‚ä¾‹å¦‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒæŠ½è±¡å·¥å‚ç”Ÿäº§çš„æ˜¯ä¸€ä¸ªäº§å“æ—ã€‚
![å›¾ 4](../../images/1fc8aec9ca87eee4157e53543a4fb69c7afa994c40507b94558cea7886c59841.png)  

2.åº”ç”¨åœºæ™¯
æŠ½è±¡å·¥å‚çš„å¸¸è§åœºæ™¯
* å½“éœ€è¦åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸€ç³»åˆ—ç›¸äº’å…³è”æˆ–ç›¸äº’ä¾èµ–çš„äº§å“æ—æ—¶ï¼Œå¦‚ç”µå™¨å·¥å‚ä¸­çš„ç”µè§†æœºã€æ´—è¡£æœºã€ç©ºè°ƒç­‰ã€‚
* ç³»ç»Ÿä¸­æœ‰å¤šä¸ªäº§å“æ—ï¼Œä½†æ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„æŸä¸€æ—äº§å“ã€‚å¦‚æœ‰äººåªå–œæ¬¢ç©¿æŸä¸€ä¸ªå“ç‰Œçš„è¡£æœå’Œé‹ã€‚
* ç³»ç»Ÿä¸­æä¾›äº†äº§å“çš„ç±»åº“ï¼Œä¸”æ‰€æœ‰äº§å“çš„æ¥å£ç›¸åŒï¼Œå®¢æˆ·ç«¯ä¸ä¾èµ–äº§å“å®ä¾‹çš„åˆ›å»ºç»†èŠ‚å’Œå†…éƒ¨ç»“æ„ã€‚
  
3.ç±»å›¾
![å›¾ 5](../../images/1439c03f2eedb84732938fdb6401f1d76f0c3abf143e58175f5bb5ba34cadcb2.png)  
æŠ½è±¡å·¥å‚æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ï¼š
1.æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰:æä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œå®ƒåŒ…å«äº†å¤šä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³•
newProduct(),å¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒç­‰çº§çš„äº§å“ã€‚
2.å…·ä½“å·¥å‚ï¼ˆConcrete Factoryï¼‰:ä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚
3.æŠ½è±¡äº§å“ã€‚ï¼ˆProductï¼‰:å®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¤šä¸ªæŠ½è±¡äº§å“ï¼Œ
4.å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰:å®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ã€‚
![å›¾ 6](../../images/849851015009246b55e7bb1d84c0d8d5d707b74ccb5d88ae14780cf525f4cbf1.png)  
4.å®ç°
ä¸¤ä¸ªæŠ½è±¡äº§å“ç³»åˆ—ã€‚
```Java
// æŠ½è±¡äº§å“Aï¼šå¦‚ç©ºè°ƒ
public class AbstractProductA {
}
// æŠ½è±¡äº§å“Bï¼šå¦‚å†°ç®±
public class AbstractProductB {
}
```
å‡è®¾ä¸€ä¸ª**æŠ½è±¡äº§å“æœ‰ä¸¤ä¸ªä¸åŒçš„å®é™…äº§å“**ã€‚
```Java
// å®é™…äº§å“A1 
public class ProductA1 extends AbstractProductA {
}
// å®é™…äº§å“A2
public class ProductA2 extends AbstractProductA {
}
// å®é™…äº§å“B1
public class ProductB1 extends AbstractProductB {
}
// å®é™…äº§å“B2
public class ProductB2 extends AbstractProductB {
}
```
å°†ä¸Šè¿°äº§å“è¿›è¡Œç»„åˆã€‚
```Java
// ç»„åˆæˆæŠ½è±¡å·¥å‚
public abstract class AbstractFactory {
    /**
     * è·å–äº§å“ç³»åˆ—çš„æŠ½è±¡æ–¹æ³•
     */
    abstract AbstractProductA createProductA();
    abstract AbstractProductB createProductB();
}
// å…·ä½“å·¥å‚1 å¦‚ï¼šæ ¼åŠ›å·¥å‚
public class ConcreteFactory1 extends AbstractFactory {
	// å®ç°å·¥å‚æ–¹æ³•A
    @Override
    AbstractProductA createProductA() {
        return new ProductA1();
    }

	// å®ç°å·¥å‚æ–¹æ³•B
    @Override
    AbstractProductB createProductB() {
        return new ProductB1();
    }
}
// å…·ä½“å·¥å‚2 å¦‚ï¼šç¾çš„å·¥å‚
public class ConcreteFactory2 extends AbstractFactory {
    // å®ç°å·¥å‚æ–¹æ³•A
    @Override
    AbstractProductA createProductA() {
        return new ProductA2();
    }
    
	// å®ç°å·¥å‚æ–¹æ³•B
    @Override
    AbstractProductB createProductB() {
        return new ProductB2();
    }
}
public class Client {
    public static void main(String[] args) {
        // å¾—åˆ°å…·ä½“å·¥å‚1
        AbstractFactory abstractFactory = new ConcreteFactory1();
        // å¾—åˆ°å·¥å‚1äº§ç”Ÿçš„äº§å“A
        AbstractProductA productA = abstractFactory.createProductA();
        // å¾—åˆ°å·¥å‚1äº§ç”Ÿçš„äº§å“B
        AbstractProductB productB = abstractFactory.createProductB();
        // do something with productA and productB
    }
}

```
æŠ½è±¡å·¥å‚æœ€å¤§çš„å¥½å¤„æ˜¯**æ˜“äºäº¤æ¢äº§å“ç³»åˆ—**ã€‚æŠ½è±¡å·¥å‚æ¨¡å¼çš„å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯å®ƒè®©å…·ä½“çš„åˆ›å»ºå®ä¾‹è¿‡ç¨‹ä¸å®¢æˆ·ç«¯åˆ†ç¦»ã€‚å®¢æˆ·ç«¯æ˜¯é€šè¿‡å®ƒä»¬çš„æŠ½è±¡æ¥å£æ“ä½œå®ä¾‹ï¼Œäº§å“å®ç°ç±»çš„å…·ä½“ç±»åä¹Ÿè¢«å…·ä½“çš„å·¥å‚å®ç°ç±»åˆ†ç¦»ï¼Œä¸ä¼šå‡ºç°åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ã€‚

##å»ºé€ è€…æ¨¡å¼
1.æ¦‚è¿°
å°è£…ä¸€ä¸ªå¯¹è±¡çš„  **æ„é€ è¿‡ç¨‹**ï¼Œå¹¶å…è®¸æŒ‰**æ­¥éª¤**æ„é€ ã€‚é€‚ç”¨äºæ„é€ å¤æ‚å¯¹è±¡çš„ä¸€ç§æ¨¡å¼ã€‚
å®ƒæ˜¯å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„é€  ä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿åŒæ ·çš„æ„é€ è¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºï¼ˆspringï¼Ÿçš„ä¾èµ–æ³¨å…¥ï¼‰

ä½¿ç”¨ Builder æ¨¡å¼æ¥æ›¿ä»£å¤šå‚æ•°æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å®è·µæ³•åˆ™ã€‚å¸¸å¸¸ä¼šé¢ä¸´ç¼–å†™ä¸€ä¸ªæœ‰å¤šä¸ªæ„é€ å‡½æ•°çš„å®ç°ç±»(å‡è®¾ç±»åå« User)ï¼Œå¦‚ä¸‹ï¼š
```Java
User(String name);
User(String name, int age);
User(String name, int age, String address);
User(String name, int age, String address, int cardID);

```
è¿™æ ·ä¸€ç³»åˆ—çš„æ„é€ å‡½æ•°ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æä¾›æ›´å¤šçš„å®¢æˆ·è°ƒç”¨é€‰æ‹©ï¼Œå·²å¤„ç†ä¸åŒçš„æ„é€ è¯·æ±‚ï¼Œè¿™ç§æ–¹æ³•å¾ˆå¸¸è§ï¼Œä¹Ÿå¾ˆæœ‰æ•ˆåŠ›ï¼Œä½†æ˜¯ç¼ºç‚¹å¾ˆå¤šã€‚


ç¼–ç æ—¶éœ€è¦å†™å¤šç§å‚æ•°ç»„åˆçš„æ„é€ å‡½æ•°ï¼Œè€Œä¸”å…¶ä¸­è¿˜éœ€è¦è®¾ç½®é»˜è®¤å‚æ•°å€¼ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦ç»†å¿ƒè€Œåˆæ¯ç‡¥çš„å·¥ä½œã€‚å…¶æ¬¡ï¼Œè¿™æ ·çš„æ„é€ å‡½æ•°çµæ´»æ€§ä¹Ÿä¸é«˜ï¼Œè€Œä¸”åœ¨è°ƒç”¨æ—¶ä¸å¾—ä¸æä¾›ä¸€äº›æ²¡æœ‰æ„ä¹‰çš„å‚æ•°å€¼ï¼Œä¾‹å¦‚ï¼ŒUser("Ace", -1, "SH")ï¼Œæ˜¾ç„¶å¹´é¾„ä¸ºè´Ÿæ•°æ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯åˆä¸çš„ä¸è¿™æ ·åšï¼Œå¾—ä»¥ç¬¦åˆ Java çš„è§„èŒƒã€‚å¦‚æœè¿™æ ·çš„ä»£ç å‘å¸ƒåï¼Œåé¢çš„ç»´æŠ¤è€…å°±ä¼šå¾ˆå¤´ç—›ï¼Œå› ä¸ºä»–æ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ª -1 æ˜¯ä»€ä¹ˆå«ä¹‰ã€‚å¯¹äºè¿™æ ·çš„æƒ…å†µï¼Œå°±éå¸¸é€‚åˆä½¿ç”¨ Builder æ¨¡å¼ã€‚

```
ä¸å·¥å‚æ–¹æ³•æ¨¡å¼çš„åŒºåˆ«ï¼š
å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼å’Œå·¥å‚æ¨¡å¼çš„å…³æ³¨ç‚¹ä¸åŒï¼šå»ºé€ è€…æ¨¡å¼æ³¨é‡é›¶éƒ¨ä»¶çš„ç»„è£…è¿‡ç¨‹ï¼Œè€Œå·¥å‚æ–¹æ³•æ¨¡å¼æ›´æ³¨é‡é›¶éƒ¨ä»¶çš„åˆ›å»ºè¿‡ç¨‹ï¼Œä½†ä¸¤è€…å¯ä»¥ç»“åˆä½¿ç”¨ã€‚
```
2.ä½¿ç”¨åœºæ™¯
* å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼åˆ›å»ºçš„æ˜¯å¤æ‚å¯¹è±¡ï¼Œå…¶äº§å“çš„å„ä¸ªéƒ¨åˆ†ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–ï¼Œä½†å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„ç®—æ³•å´ç›¸å¯¹ç¨³å®šï¼Œæ‰€ä»¥å®ƒé€šå¸¸åœ¨ä»¥ä¸‹åœºåˆä½¿ç”¨ã€‚

  * åˆ›å»ºçš„å¯¹è±¡è¾ƒå¤æ‚ï¼Œç”±å¤šä¸ªéƒ¨ä»¶æ„æˆï¼Œå„éƒ¨ä»¶é¢ä¸´ç€å¤æ‚çš„å˜åŒ–ï¼Œä½†æ„ä»¶é—´çš„å»ºé€ é¡ºåºæ˜¯ç¨³å®šçš„ã€‚

  * åˆ›å»ºå¤æ‚å¯¹è±¡çš„ç®—æ³•ç‹¬ç«‹äºè¯¥å¯¹è±¡çš„ç»„æˆéƒ¨åˆ†ä»¥åŠå®ƒä»¬çš„è£…é…æ–¹å¼ï¼Œå³äº§å“çš„æ„å»ºè¿‡ç¨‹å’Œæœ€ç»ˆçš„è¡¨ç¤ºæ˜¯ç‹¬ç«‹çš„ã€‚

3.ç±»å›¾
å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼çš„ä¸»è¦è§’è‰²å¦‚ä¸‹ã€‚![å›¾ 7](../../images/0993d86fc1ed806bdde0f22520425a7c4e2bcb84e207b0233dbd68d327d3ddee.png)  
1. **äº§å“è§’è‰²**ï¼ˆProductï¼‰ï¼šå®ƒæ˜¯åŒ…å«å¤šä¸ªç»„æˆéƒ¨ä»¶çš„å¤æ‚å¯¹è±¡ï¼Œç”±å…·ä½“å»ºé€ è€…æ¥åˆ›å»ºå…¶å„ä¸ªé›¶éƒ¨ä»¶
2. **æŠ½è±¡å»ºé€ è¿™è€…**ï¼ˆBuilderï¼‰ï¼šå®ƒæ˜¯ä¸€ä¸ªåŒ…å«åˆ›å»ºäº§å“å„ä¸ªå­éƒ¨ä»¶çš„æŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œé€šå¸¸è¿˜åŒ…å«ä¸€ä¸ªè¿”å›å¤æ‚äº§å“çš„æ–¹æ³• getResult().
3. **å…·ä½“å»ºé€ è€…**ï¼ˆConcrete Builderï¼‰ï¼šå®ç°Builderæ¥å£ï¼Œå®Œæˆå¤æ‚äº§å“çš„å„ä¸ªä¸è§çš„å…·ä½“åˆ›å»ºæ–¹æ³•ã€‚
4. **æŒ‡æŒ¥è€…**ï¼ˆDirectorï¼‰ï¼šå®ƒè°ƒç”¨å»ºé€ è€…å¯¹è±¡ä¸­çš„éƒ¨ä»¶æ„é€ ä¸è£…é…æ–¹æ³•å®Œæˆå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œåœ¨æŒ‡æŒ¥è€…ä¸­ä¸æ¶‰åŠå…·ä½“äº§å“çš„ä¿¡æ¯ã€‚

4.æ¨¡å¼çš„å®ç°
* äº§å“è§’è‰²
```Java
class Product {
    private String partA;
    private String partB;
    private String partC;
    public void setPartA(String partA) {
        this.partA = partA;
    }
    public void setPartB(String partB) {
        this.partB = partB;
    }
    public void setPartC(String partC) {
        this.partC = partC;
    }
    public void show() {
        //æ˜¾ç¤ºäº§å“çš„ç‰¹æ€§
        System.out.println(this);
    }
    @Override
    public String toString() {
        return "Product{" +
                "partA='" + partA + '\'' +
                ", partB='" + partB + '\'' +
                ", partC='" + partC + '\'' +
                '}';
    }
}
```
* æŠ½è±¡å»ºé€ è€…:åŒ…å«åˆ›å»ºäº§å“å„ä¸ªå­éƒ¨ä»¶çš„æŠ½è±¡æ–¹æ³•ã€‚
```Java
abstract class Builder {
    //åˆ›å»ºäº§å“å¯¹è±¡
    protected Product product = new Product();
    public abstract void buildPartA();
    public abstract void buildPartB();
    public abstract void buildPartC();
    //è¿”å›äº§å“å¯¹è±¡
    public Product getResult() {
        return product;
    }
}
```
* å…·ä½“å»ºé€ è€…ï¼šå®ç°äº†æŠ½è±¡å»ºé€ è€…æ¥å£ã€‚
```java
public class ConcreteBuilder extends Builder {
     public void buildPartA() {
        product.setPartA("å»ºé€  PartA");
    }
    public void buildPartB() {
        product.setPartB("å»ºé€  PartB");
    }
    public void buildPartC() {
         product.setPartC("å»ºé€  PartC");
    }
}

```
* æŒ‡æŒ¥è€…ï¼šè°ƒç”¨å»ºé€ è€…çš„æ–¹æ³•å®Œæˆå¤æ‚å¯¹è±¡çš„åˆ›å»º
```java
class Director {
    private Builder builder;
    public Director(Builder builder) {
        this.builder = builder;
    }
    //äº§å“æ„å»ºä¸ç»„è£…æ–¹æ³•
    public Product construct() {
        builder.buildPartA();
        builder.buildPartB();
        builder.buildPartC();
        return builder.getResult();
    }
}
```
* å®¢æˆ·ç±»
```Java
  public class Client {
    public static void main(String[] args) {
        Builder builder = new ConcreteBuilder();
        Director director = new Director(builder);
        Product product = director.construct();
        product.show();
    }
}
```

