# 范式与反范式

* 范式的作用

![image-20201217210003486](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20201217210003486.png)

在上述表时，如果当一个人接任Accounting 部分的领导，需要修改多行数据，很容易发生错误。而且，如果没有雇员时，就不会知道这个部门的信息。因此对这个表范式化，拆分后得到

![image-20201217210201938](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20201217210201938.png)

![image-20201217210207361](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20201217210207361.png)



## 范式的优点

* 范式化修改的数据通常更少，更新操作通常比反范式化更快
* 范式化的表通常更小，可以更好的放在内存里
* 范式化很少有多余的数据意味着检索列表数据时可能不需要DISTINCT/GROUP BY语句



## 范式的缺点

* 通常需要关联，不仅代价高而且可能使得一些索引无效。比如，将列存储在不用的表中，而这些列如果在一个表中则本可以属于同一个索引



## 反范式的优点

* 避免了很多关联，在没有关联的情况下，反范式执行全表扫描时顺序I/O,可能比关联要快的多

  

## 混合范式化和反范式化

* 实际并不会完全的范式和反范式化，混用



## 缓存表和汇总表

* 缓存表：那些可以比较简单地从其他表获取（但是每次获取的速度比较慢）数据的表（逻辑上冗余）

* 汇总表：保存的是使用GROUP BY语句聚合数据的表

  用累计表称呼上述表