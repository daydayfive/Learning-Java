#分布式锁的使用场景是什么？有哪些实现方案？

在单体架构中，多个线程都是属于同一进程的，所以在线程并发执行时，遇到资源竞争时，可以利用ReentrantLock,synchronized 等技术来作为锁，来控制共享资源的使用。

而在分布式架构中，多个线程可能处于不同进程中，而这些资源并发执行遇到资源竞争时，利用ReentrantLock,synchronized 等技术是没办法来控制多个进程中的线程的，所以需要分布式锁，。意思就是，需要一个分布式锁生成器，分布式系统中的应用程序都可以来使用这个生成器所提供的锁，从而达到多个进程中的线程使用同一把锁。

目前主流的分布式锁的实现方案有两种：
1. zookeeper : 利用zookeeper 的临时节点，顺序节点，watch机制来实现的，zookeeper分布式锁的特点时高一致性，因为zookeeper保证的是CP,所以由它实现的分布式锁更牢靠，不会出现混乱
2. redis：利用redis 的setnx，lua脚本，消费订阅等机制来实现的，redis分布式锁的特点是高可用，因为redis保证的是AP,所以由它实现的分布式锁可能不牢靠，不稳定（一旦redis中的数据出现了不一致），可能会出现多个客户端同时加到锁的情况



